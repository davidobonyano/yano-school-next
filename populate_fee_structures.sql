-- Populate fee structures for all class levels and terms/sessions
-- Run this script to create stable fee structures for the entire school

-- First, clear existing fee structures if you want a fresh start
-- DELETE FROM public.fee_structures;

-- Populate fee structures for 2025/2026 session
INSERT INTO public.fee_structures (
    class_level_code, 
    term, 
    session, 
    tuition_fee, 
    development_levy, 
    examination_fee, 
    sports_fee, 
    pta_fee, 
    total_fee,
    stream,
    class_level
) VALUES 
-- KG Classes (3 terms)
('KG1', '1st Term', '2025/2026', 35000.00, 5000.00, 8000.00, 3000.00, 2000.00, 53000.00, NULL, 'KG1'),
('KG1', '2nd Term', '2025/2026', 35000.00, 5000.00, 8000.00, 3000.00, 2000.00, 53000.00, NULL, 'KG1'),
('KG1', '3rd Term', '2025/2026', 35000.00, 5000.00, 8000.00, 3000.00, 2000.00, 53000.00, NULL, 'KG1'),

('KG2', '1st Term', '2025/2026', 38000.00, 5000.00, 8000.00, 3000.00, 2000.00, 56000.00, NULL, 'KG2'),
('KG2', '2nd Term', '2025/2026', 38000.00, 5000.00, 8000.00, 3000.00, 2000.00, 56000.00, NULL, 'KG2'),
('KG2', '3rd Term', '2025/2026', 38000.00, 5000.00, 8000.00, 3000.00, 2000.00, 56000.00, NULL, 'KG2'),

-- Primary Classes (PRI1-PRI6, 3 terms each)
('PRI1', '1st Term', '2025/2026', 40000.00, 6000.00, 10000.00, 4000.00, 2500.00, 62500.00, NULL, 'PRI1'),
('PRI1', '2nd Term', '2025/2026', 40000.00, 6000.00, 10000.00, 4000.00, 2500.00, 62500.00, NULL, 'PRI1'),
('PRI1', '3rd Term', '2025/2026', 40000.00, 6000.00, 10000.00, 4000.00, 2500.00, 62500.00, NULL, 'PRI1'),

('PRI2', '1st Term', '2025/2026', 42000.00, 6000.00, 10000.00, 4000.00, 2500.00, 64500.00, NULL, 'PRI2'),
('PRI2', '2nd Term', '2025/2026', 42000.00, 6000.00, 10000.00, 4000.00, 2500.00, 64500.00, NULL, 'PRI2'),
('PRI2', '3rd Term', '2025/2026', 42000.00, 6000.00, 10000.00, 4000.00, 2500.00, 64500.00, NULL, 'PRI2'),

('PRI3', '1st Term', '2025/2026', 44000.00, 6000.00, 10000.00, 4000.00, 2500.00, 66500.00, NULL, 'PRI3'),
('PRI3', '2nd Term', '2025/2026', 44000.00, 6000.00, 10000.00, 4000.00, 2500.00, 66500.00, NULL, 'PRI3'),
('PRI3', '3rd Term', '2025/2026', 44000.00, 6000.00, 10000.00, 4000.00, 2500.00, 66500.00, NULL, 'PRI3'),

('PRI4', '1st Term', '2025/2026', 46000.00, 6500.00, 12000.00, 4000.00, 2500.00, 71000.00, NULL, 'PRI4'),
('PRI4', '2nd Term', '2025/2026', 46000.00, 6500.00, 12000.00, 4000.00, 2500.00, 71000.00, NULL, 'PRI4'),
('PRI4', '3rd Term', '2025/2026', 46000.00, 6500.00, 12000.00, 4000.00, 2500.00, 71000.00, NULL, 'PRI4'),

('PRI5', '1st Term', '2025/2026', 48000.00, 6500.00, 12000.00, 4000.00, 2500.00, 73000.00, NULL, 'PRI5'),
('PRI5', '2nd Term', '2025/2026', 48000.00, 6500.00, 12000.00, 4000.00, 2500.00, 73000.00, NULL, 'PRI5'),
('PRI5', '3rd Term', '2025/2026', 48000.00, 6500.00, 12000.00, 4000.00, 2500.00, 73000.00, NULL, 'PRI5'),

('PRI6', '1st Term', '2025/2026', 50000.00, 7000.00, 13000.00, 4000.00, 3000.00, 77000.00, NULL, 'PRI6'),
('PRI6', '2nd Term', '2025/2026', 50000.00, 7000.00, 13000.00, 4000.00, 3000.00, 77000.00, NULL, 'PRI6'),
('PRI6', '3rd Term', '2025/2026', 50000.00, 7000.00, 13000.00, 4000.00, 3000.00, 77000.00, NULL, 'PRI6'),

-- Junior Secondary (JSS1-JSS3, 3 terms each)
('JSS1', '1st Term', '2025/2026', 55000.00, 8000.00, 15000.00, 5000.00, 3000.00, 86000.00, NULL, 'JSS1'),
('JSS1', '2nd Term', '2025/2026', 55000.00, 8000.00, 15000.00, 5000.00, 3000.00, 86000.00, NULL, 'JSS1'),
('JSS1', '3rd Term', '2025/2026', 55000.00, 8000.00, 15000.00, 5000.00, 3000.00, 86000.00, NULL, 'JSS1'),

('JSS2', '1st Term', '2025/2026', 57000.00, 8000.00, 15000.00, 5000.00, 3000.00, 88000.00, NULL, 'JSS2'),
('JSS2', '2nd Term', '2025/2026', 57000.00, 8000.00, 15000.00, 5000.00, 3000.00, 88000.00, NULL, 'JSS2'),
('JSS2', '3rd Term', '2025/2026', 57000.00, 8000.00, 15000.00, 5000.00, 3000.00, 88000.00, NULL, 'JSS2'),

('JSS3', '1st Term', '2025/2026', 60000.00, 9000.00, 16000.00, 5000.00, 3000.00, 93000.00, NULL, 'JSS3'),
('JSS3', '2nd Term', '2025/2026', 60000.00, 9000.00, 16000.00, 5000.00, 3000.00, 93000.00, NULL, 'JSS3'),
('JSS3', '3rd Term', '2025/2026', 60000.00, 9000.00, 16000.00, 5000.00, 3000.00, 93000.00, NULL, 'JSS3'),

-- Senior Secondary Science Stream (SS1-SS3, 3 terms each)
('SS1', '1st Term', '2025/2026', 65000.00, 10000.00, 18000.00, 5000.00, 3000.00, 101000.00, 'Science', 'SS1'),
('SS1', '2nd Term', '2025/2026', 65000.00, 10000.00, 18000.00, 5000.00, 3000.00, 101000.00, 'Science', 'SS1'),
('SS1', '3rd Term', '2025/2026', 65000.00, 10000.00, 18000.00, 5000.00, 3000.00, 101000.00, 'Science', 'SS1'),

('SS2', '1st Term', '2025/2026', 68000.00, 10000.00, 18000.00, 5000.00, 3000.00, 104000.00, 'Science', 'SS2'),
('SS2', '2nd Term', '2025/2026', 68000.00, 10000.00, 18000.00, 5000.00, 3000.00, 104000.00, 'Science', 'SS2'),
('SS2', '3rd Term', '2025/2026', 68000.00, 10000.00, 18000.00, 5000.00, 3000.00, 104000.00, 'Science', 'SS2'),

('SS3', '1st Term', '2025/2026', 72000.00, 12000.00, 20000.00, 5000.00, 3000.00, 112000.00, 'Science', 'SS3'),
('SS3', '2nd Term', '2025/2026', 72000.00, 12000.00, 20000.00, 5000.00, 3000.00, 112000.00, 'Science', 'SS3'),
('SS3', '3rd Term', '2025/2026', 72000.00, 12000.00, 20000.00, 5000.00, 3000.00, 112000.00, 'Science', 'SS3'),

-- Senior Secondary Arts Stream (SS1-SS3, 3 terms each)
('SS1', '1st Term', '2025/2026', 62000.00, 10000.00, 16000.00, 5000.00, 3000.00, 96000.00, 'Arts', 'SS1'),
('SS1', '2nd Term', '2025/2026', 62000.00, 10000.00, 16000.00, 5000.00, 3000.00, 96000.00, 'Arts', 'SS1'),
('SS1', '3rd Term', '2025/2026', 62000.00, 10000.00, 16000.00, 5000.00, 3000.00, 96000.00, 'Arts', 'SS1'),

('SS2', '1st Term', '2025/2026', 65000.00, 10000.00, 16000.00, 5000.00, 3000.00, 99000.00, 'Arts', 'SS2'),
('SS2', '2nd Term', '2025/2026', 65000.00, 10000.00, 16000.00, 5000.00, 3000.00, 99000.00, 'Arts', 'SS2'),
('SS2', '3rd Term', '2025/2026', 65000.00, 10000.00, 16000.00, 5000.00, 3000.00, 99000.00, 'Arts', 'SS2'),

('SS3', '1st Term', '2025/2026', 69000.00, 12000.00, 18000.00, 5000.00, 3000.00, 107000.00, 'Arts', 'SS3'),
('SS3', '2nd Term', '2025/2026', 69000.00, 12000.00, 18000.00, 5000.00, 3000.00, 107000.00, 'Arts', 'SS3'),
('SS3', '3rd Term', '2025/2026', 69000.00, 12000.00, 18000.00, 5000.00, 3000.00, 107000.00, 'Arts', 'SS3'),

-- Senior Secondary Commercial Stream (SS1-SS3, 3 terms each)
('SS1', '1st Term', '2025/2026', 63000.00, 10000.00, 17000.00, 5000.00, 3000.00, 98000.00, 'Commercial', 'SS1'),
('SS1', '2nd Term', '2025/2026', 63000.00, 10000.00, 17000.00, 5000.00, 3000.00, 98000.00, 'Commercial', 'SS1'),
('SS1', '3rd Term', '2025/2026', 63000.00, 10000.00, 17000.00, 5000.00, 3000.00, 98000.00, 'Commercial', 'SS1'),

('SS2', '1st Term', '2025/2026', 66000.00, 10000.00, 17000.00, 5000.00, 3000.00, 101000.00, 'Commercial', 'SS2'),
('SS2', '2nd Term', '2025/2026', 66000.00, 10000.00, 17000.00, 5000.00, 3000.00, 101000.00, 'Commercial', 'SS2'),
('SS2', '3rd Term', '2025/2026', 66000.00, 10000.00, 17000.00, 5000.00, 3000.00, 101000.00, 'Commercial', 'SS2'),

('SS3', '1st Term', '2025/2026', 70000.00, 12000.00, 19000.00, 5000.00, 3000.00, 109000.00, 'Commercial', 'SS3'),
('SS3', '2nd Term', '2025/2026', 70000.00, 12000.00, 19000.00, 5000.00, 3000.00, 109000.00, 'Commercial', 'SS3'),
('SS3', '3rd Term', '2025/2026', 70000.00, 12000.00, 19000.00, 5000.00, 3000.00, 109000.00, 'Commercial', 'SS3'),

-- Populate fee structures for 2024/2025 session (for historical records)
('KG1', '1st Term', '2024/2025', 32000.00, 4500.00, 7000.00, 2500.00, 1500.00, 47500.00, NULL, 'KG1'),
('KG1', '2nd Term', '2024/2025', 32000.00, 4500.00, 7000.00, 2500.00, 1500.00, 47500.00, NULL, 'KG1'),
('KG1', '3rd Term', '2024/2025', 32000.00, 4500.00, 7000.00, 2500.00, 1500.00, 47500.00, NULL, 'KG1'),

('KG2', '1st Term', '2024/2025', 34000.00, 4500.00, 7000.00, 2500.00, 1500.00, 49500.00, NULL, 'KG2'),
('KG2', '2nd Term', '2024/2025', 34000.00, 4500.00, 7000.00, 2500.00, 1500.00, 49500.00, NULL, 'KG2'),
('KG2', '3rd Term', '2024/2025', 34000.00, 4500.00, 7000.00, 2500.00, 1500.00, 49500.00, NULL, 'KG2'),

('PRI1', '1st Term', '2024/2025', 36000.00, 5500.00, 9000.00, 3500.00, 2000.00, 56000.00, NULL, 'PRI1'),
('PRI1', '2nd Term', '2024/2025', 36000.00, 5500.00, 9000.00, 3500.00, 2000.00, 56000.00, NULL, 'PRI1'),
('PRI1', '3rd Term', '2024/2025', 36000.00, 5500.00, 9000.00, 3500.00, 2000.00, 56000.00, NULL, 'PRI1'),

('PRI2', '1st Term', '2024/2025', 38000.00, 5500.00, 9000.00, 3500.00, 2000.00, 58000.00, NULL, 'PRI2'),
('PRI2', '2nd Term', '2024/2025', 38000.00, 5500.00, 9000.00, 3500.00, 2000.00, 58000.00, NULL, 'PRI2'),
('PRI2', '3rd Term', '2024/2025', 38000.00, 5500.00, 9000.00, 3500.00, 2000.00, 58000.00, NULL, 'PRI2'),

('PRI3', '1st Term', '2024/2025', 40000.00, 5500.00, 9000.00, 3500.00, 2000.00, 60000.00, NULL, 'PRI3'),
('PRI3', '2nd Term', '2024/2025', 40000.00, 5500.00, 9000.00, 3500.00, 2000.00, 60000.00, NULL, 'PRI3'),
('PRI3', '3rd Term', '2024/2025', 40000.00, 5500.00, 9000.00, 3500.00, 2000.00, 60000.00, NULL, 'PRI3'),

('PRI4', '1st Term', '2024/2025', 42000.00, 6000.00, 10000.00, 3500.00, 2000.00, 63500.00, NULL, 'PRI4'),
('PRI4', '2nd Term', '2024/2025', 42000.00, 6000.00, 10000.00, 3500.00, 2000.00, 63500.00, NULL, 'PRI4'),
('PRI4', '3rd Term', '2024/2025', 42000.00, 6000.00, 10000.00, 3500.00, 2000.00, 63500.00, NULL, 'PRI4'),

('PRI5', '1st Term', '2024/2025', 44000.00, 6000.00, 10000.00, 3500.00, 2000.00, 65500.00, NULL, 'PRI5'),
('PRI5', '2nd Term', '2024/2025', 44000.00, 6000.00, 10000.00, 3500.00, 2000.00, 65500.00, NULL, 'PRI5'),
('PRI5', '3rd Term', '2024/2025', 44000.00, 6000.00, 10000.00, 3500.00, 2000.00, 65500.00, NULL, 'PRI5'),

('PRI6', '1st Term', '2024/2025', 46000.00, 6500.00, 11000.00, 3500.00, 2500.00, 69500.00, NULL, 'PRI6'),
('PRI6', '2nd Term', '2024/2025', 46000.00, 6500.00, 11000.00, 3500.00, 2500.00, 69500.00, NULL, 'PRI6'),
('PRI6', '3rd Term', '2024/2025', 46000.00, 6500.00, 11000.00, 3500.00, 2500.00, 69500.00, NULL, 'PRI6'),

('JSS1', '1st Term', '2024/2025', 50000.00, 7000.00, 13000.00, 4000.00, 2500.00, 76500.00, NULL, 'JSS1'),
('JSS1', '2nd Term', '2024/2025', 50000.00, 7000.00, 13000.00, 4000.00, 2500.00, 76500.00, NULL, 'JSS1'),
('JSS1', '3rd Term', '2024/2025', 50000.00, 7000.00, 13000.00, 4000.00, 2500.00, 76500.00, NULL, 'JSS1'),

('JSS2', '1st Term', '2024/2025', 52000.00, 7000.00, 13000.00, 4000.00, 2500.00, 78500.00, NULL, 'JSS2'),
('JSS2', '2nd Term', '2024/2025', 52000.00, 7000.00, 13000.00, 4000.00, 2500.00, 78500.00, NULL, 'JSS2'),
('JSS2', '3rd Term', '2024/2025', 52000.00, 7000.00, 13000.00, 4000.00, 2500.00, 78500.00, NULL, 'JSS2'),

('JSS3', '1st Term', '2024/2025', 55000.00, 8000.00, 14000.00, 4000.00, 2500.00, 83500.00, NULL, 'JSS3'),
('JSS3', '2nd Term', '2024/2025', 55000.00, 8000.00, 14000.00, 4000.00, 2500.00, 83500.00, NULL, 'JSS3'),
('JSS3', '3rd Term', '2024/2025', 55000.00, 8000.00, 14000.00, 4000.00, 2500.00, 83500.00, NULL, 'JSS3'),

-- Senior Secondary 2024/2025 - Science Stream
('SS1', '1st Term', '2024/2025', 60000.00, 9000.00, 16000.00, 4000.00, 2500.00, 91500.00, 'Science', 'SS1'),
('SS1', '2nd Term', '2024/2025', 60000.00, 9000.00, 16000.00, 4000.00, 2500.00, 91500.00, 'Science', 'SS1'),
('SS1', '3rd Term', '2024/2025', 60000.00, 9000.00, 16000.00, 4000.00, 2500.00, 91500.00, 'Science', 'SS1'),

('SS2', '1st Term', '2024/2025', 63000.00, 9000.00, 16000.00, 4000.00, 2500.00, 94500.00, 'Science', 'SS2'),
('SS2', '2nd Term', '2024/2025', 63000.00, 9000.00, 16000.00, 4000.00, 2500.00, 94500.00, 'Science', 'SS2'),
('SS2', '3rd Term', '2024/2025', 63000.00, 9000.00, 16000.00, 4000.00, 2500.00, 94500.00, 'Science', 'SS2'),

('SS3', '1st Term', '2024/2025', 67000.00, 10000.00, 18000.00, 4000.00, 2500.00, 101500.00, 'Science', 'SS3'),
('SS3', '2nd Term', '2024/2025', 67000.00, 10000.00, 18000.00, 4000.00, 2500.00, 101500.00, 'Science', 'SS3'),
('SS3', '3rd Term', '2024/2025', 67000.00, 10000.00, 18000.00, 4000.00, 2500.00, 101500.00, 'Science', 'SS3'),

-- Senior Secondary 2024/2025 - Arts Stream
('SS1', '1st Term', '2024/2025', 57000.00, 9000.00, 14000.00, 4000.00, 2500.00, 86500.00, 'Arts', 'SS1'),
('SS1', '2nd Term', '2024/2025', 57000.00, 9000.00, 14000.00, 4000.00, 2500.00, 86500.00, 'Arts', 'SS1'),
('SS1', '3rd Term', '2024/2025', 57000.00, 9000.00, 14000.00, 4000.00, 2500.00, 86500.00, 'Arts', 'SS1'),

('SS2', '1st Term', '2024/2025', 60000.00, 9000.00, 14000.00, 4000.00, 2500.00, 89500.00, 'Arts', 'SS2'),
('SS2', '2nd Term', '2024/2025', 60000.00, 9000.00, 14000.00, 4000.00, 2500.00, 89500.00, 'Arts', 'SS2'),
('SS2', '3rd Term', '2024/2025', 60000.00, 9000.00, 14000.00, 4000.00, 2500.00, 89500.00, 'Arts', 'SS2'),

('SS3', '1st Term', '2024/2025', 64000.00, 10000.00, 16000.00, 4000.00, 2500.00, 96500.00, 'Arts', 'SS3'),
('SS3', '2nd Term', '2024/2025', 64000.00, 10000.00, 16000.00, 4000.00, 2500.00, 96500.00, 'Arts', 'SS3'),
('SS3', '3rd Term', '2024/2025', 64000.00, 10000.00, 16000.00, 4000.00, 2500.00, 96500.00, 'Arts', 'SS3'),

-- Senior Secondary 2024/2025 - Commercial Stream
('SS1', '1st Term', '2024/2025', 58000.00, 9000.00, 15000.00, 4000.00, 2500.00, 88500.00, 'Commercial', 'SS1'),
('SS1', '2nd Term', '2024/2025', 58000.00, 9000.00, 15000.00, 4000.00, 2500.00, 88500.00, 'Commercial', 'SS1'),
('SS1', '3rd Term', '2024/2025', 58000.00, 9000.00, 15000.00, 4000.00, 2500.00, 88500.00, 'Commercial', 'SS1'),

('SS2', '1st Term', '2024/2025', 61000.00, 9000.00, 15000.00, 4000.00, 2500.00, 91500.00, 'Commercial', 'SS2'),
('SS2', '2nd Term', '2024/2025', 61000.00, 9000.00, 15000.00, 4000.00, 2500.00, 91500.00, 'Commercial', 'SS2'),
('SS2', '3rd Term', '2024/2025', 61000.00, 9000.00, 15000.00, 4000.00, 2500.00, 91500.00, 'Commercial', 'SS2'),

('SS3', '1st Term', '2024/2025', 65000.00, 10000.00, 17000.00, 4000.00, 2500.00, 98500.00, 'Commercial', 'SS3'),
('SS3', '2nd Term', '2024/2025', 65000.00, 10000.00, 17000.00, 4000.00, 2500.00, 98500.00, 'Commercial', 'SS3'),
('SS3', '3rd Term', '2024/2025', 65000.00, 10000.00, 17000.00, 4000.00, 2500.00, 98500.00, 'Commercial', 'SS3');

-- Verification queries to check the inserted data
SELECT 
    class_level_code, 
    stream, 
    session, 
    term, 
    total_fee,
    COUNT(*) as record_count
FROM public.fee_structures 
GROUP BY class_level_code, stream, session, term, total_fee
ORDER BY session DESC, class_level_code, stream NULLS FIRST, term;

-- Summary by class level and session
SELECT 
    class_level_code,
    session,
    COUNT(*) as terms_count,
    AVG(total_fee) as avg_fee,
    MIN(total_fee) as min_fee,
    MAX(total_fee) as max_fee
FROM public.fee_structures 
GROUP BY class_level_code, session
ORDER BY session DESC, class_level_code;
